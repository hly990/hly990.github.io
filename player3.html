<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>聚云网 - 全栈开发、增长黑客、创业学习</title>
    <meta name="description" property="og:description" content="聚云网是一个全栈开发、增长黑客、创业者学习社区。">
    <meta name="author" content="Sam Potts">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Icons -->
<!--     <link rel="icon" href="https://cdn.plyr.io/static/icons/favicon.ico">
    <link rel="icon" type="image/png" href="https://cdn.plyr.io/static/icons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://cdn.plyr.io/static/icons/16x16.png" sizes="16x16">
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.plyr.io/static/icons/180x180.png"> -->

    <!-- Opengraph -->
    <!-- <meta property="og:title" content="Plyr - A simple, customizable HTML5 Video, Audio, YouTube and Vimeo player">
    <meta property="og:site_name" content="Plyr">
    <meta property="og:url" content="https://plyr.io">
    <meta property="og:image" content="https://cdn.plyr.io/static/icons/1200x630.png">
 -->
    <!-- Twitter -->
    <!-- <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@sam_potts">
    <meta name="twitter:creator" content="@sam_potts">
    <meta name="twitter:card" content="summary_large_image"> -->

    <!-- Docs styles -->
    <link rel="stylesheet" href="video-player/demo.css?v=2">
    <link href="video-player/video-js.css" rel="stylesheet">
    <link href="video-player/plugins/captions/videojs.caption.css" rel="stylesheet">
    <style type="text/css">
        .tabbable .nav-tabs {
          overflow-x: auto;
          overflow-y:hidden;
          flex-wrap: nowrap;
        }

        .button {
            background-color: #F1F1F1;
            border: none;
            /*color: white;*/
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }


    </style>


    <!-- Preload -->
   <!--  <link rel="preload" as="font" crossorigin type="font/woff2" href="https://cdn.plyr.io/static/fonts/gordita-medium.woff2">
    <link rel="preload" as="font" crossorigin type="font/woff2" href="https://cdn.plyr.io/static/fonts/gordita-bold.woff2"> -->

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?9624a6ddd1676fbf5148abecafe0b9e7";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>

<body>
    <div class="grid">
        <header>
            <h2>学习vue.js2.0</h2>
            <nav class="col-md-2 d-none d-md-block bg-light sidebar tabbable">
              <div class="sidebar-sticky nav-tabs">
                <h3 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>设置开发环境</span>
                    <a class="d-flex align-items-center text-muted" href="#">
                      <span data-feather="plus-circle"></span>
                    </a>
                  </h3>
                <ul class="nav flex-column">
                  <li class="nav-item">
                    <a class="nav-link active" href="#">
                      <span data-feather="home"></span>
                      1.1 课程概述</span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file"></span>
                      1.2 什么是Vue.js
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="shopping-cart"></span>
                      1.3 开始Vue.js
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="users"></span>
                      1.4 用Vue.js写一个"Hello,World!"程序
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="bar-chart-2"></span>
                      1.5 使用npm和Vue.js CLI创建Vue.js项目
                    </a>
                  </li>
                </ul>
    
                <h3 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                  <span>使用Vue.js开发web应用程序的原理</span>
                  <a class="d-flex align-items-center text-muted" href="#">
                    <span data-feather="plus-circle"></span>
                  </a>
                </h3>
                <ul class="nav flex-column mb-2">
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file-text"></span>
                      2.1 Vue实例详细解释
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file-text"></span>
                      2.2 Vue实例生命周期
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file-text"></span>
                      2.3 什么是组件？怎么使用组件？
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file-text"></span>
                      2.4 模板基础语法
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file-text"></span>
                      2.5 在模板中使用指令
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      <span data-feather="file-text"></span>
                      2.6 使用表单
                    </a>
                  </li>
                </ul>
                <h3 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>使用流行开发工具开发Vue.js</span>
                    <a class="d-flex align-items-center text-muted" href="#">
                      <span data-feather="plus-circle"></span>
                    </a>
                  </h3>
                  <ul class="nav flex-column mb-2">
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="file-text"></span>
                        3.1 解释.vue模板文件
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="file-text"></span>
                        3.2 使用webpack热加载应用程序
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="file-text"></span>
                        3.3 使用Vue-Devtools让Debug更简单
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="file-text"></span>
                        3.4 单元测试
                      </a>
                    </li>
                  </ul>
                  <h3 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                      <span>用Vue.js建立复杂的web应用程序</span>
                      <a class="d-flex align-items-center text-muted" href="#">
                        <span data-feather="plus-circle"></span>
                      </a>
                    </h3>
                    <ul class="nav flex-column mb-2">
                      <li class="nav-item">
                        <a class="nav-link" href="#">
                          <span data-feather="file-text"></span>
                          4.1 使用Vue Router库进行路由
                        </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            4.2 使用源代码介绍状态管理
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            4.3 使用Vuex管理状态
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            4.4 在一个应用程序里复用程序逻辑和数据
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            4.5 在多个应用程序里复用程序逻辑和数据
                          </a>
                      </li>
                    </ul>
              </div>
            </nav>
            <!-- <p>
               目前推荐在PC端使用Chrome,safari浏览器播放。     
            </p>
            <div class="call-to-action">
                <span class="button--with-count">
                    <a href="#" target="_blank" class="button" id="bbs">
                        进入交流答疑区
                    </a>
                </span>
            </div> -->
        </header>

        <main>
            <div id="container">
                 <div class="videocontent">
                      <video id="my-video" class="video-js vjs-fluid vjs-big-play-centered"  controls preload="auto" width="640" height="264"
                      poster="MY_VIDEO_POSTER.jpg" data-setup='{"controls": true, "autoplay": false, "preload": "auto" }' webkit-playsinline="true" playsinline="true">
                        <!-- <source src="http://appplusplus.cn/2018-09-09%2013-12-05.mp4" type='video/mp4'> -->
                      <!-- <track kind="captions" src="captions/jenkins-captions-1.vtt" srclang="en" label="English"> -->
                      <!--<track kind="subtitles" src="../shared/example-captions.vtt" srclang="en" label="English">-->
                      <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that 
                        <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                      </p>
                      </video>
                      <button class="button" id="prev">Previous</button>
                      <button class="button" id="next">Next</button>
                </div>
            </div>

        </main>
    </div>

    <aside>
       <!--  <svg class="icon">
            <title>Twitter</title>
            <path d="M16,3c-0.6,0.3-1.2,0.4-1.9,0.5c0.7-0.4,1.2-1,1.4-1.8c-0.6,0.4-1.3,0.6-2.1,0.8c-0.6-0.6-1.5-1-2.4-1
       C9.3,1.5,7.8,3,7.8,4.8c0,0.3,0,0.5,0.1,0.7C5.2,5.4,2.7,4.1,1.1,2.1c-0.3,0.5-0.4,1-0.4,1.7c0,1.1,0.6,2.1,1.5,2.7
       c-0.5,0-1-0.2-1.5-0.4c0,0,0,0,0,0c0,1.6,1.1,2.9,2.6,3.2C3,9.4,2.7,9.4,2.4,9.4c-0.2,0-0.4,0-0.6-0.1c0.4,1.3,1.6,2.3,3.1,2.3
       c-1.1,0.9-2.5,1.4-4.1,1.4c-0.3,0-0.5,0-0.8,0c1.5,0.9,3.2,1.5,5,1.5c6,0,9.3-5,9.3-9.3c0-0.1,0-0.3,0-0.4C15,4.3,15.6,3.7,16,3z"></path>
        </svg> -->
        <p>@2018 聚云网  </p>
    </aside>

    <!-- Docs script -->
    <!-- <script src="video-player/demo.js" crossorigin="anonymous"></script> -->

    <script src="video-player/video.js"></script>
    <script src="https://cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>
    <script src='video-player/plugins/captions/videojs.caption.js'></script>
    <script type="text/javascript">

    $(document).ready(function() {
      var objs,index,position,source,bbs;
      index=0;

      urlinfo=window.location.href; //获取当前页面的url
      position = GetArgsFromHref(urlinfo,'position');
      source = GetArgsFromHref(urlinfo,'source');
      bbs = GetArgsFromHref(urlinfo,'bbs');

      $("#bbs").attr("href",bbs);
      // var player = window.player = videojs('my-video', {
      //   sources: [{
      //     src: url,
      //     type: 'video/mp4'
      //     }],
      //   tracks: [{
      //     id: 'jenkins-en',
      //     kind: 'captions',
      //     label: 'English',
      //     srclang: 'en',
      //     src: caption,
      //     default: 'default',
      //     mode: 'showing'
      //   }],
      //   "html5": {
      //     "nativeTextTracks": false
      //   }
      // })
       var player = videojs('my-video', {
          fluid: true,
          controls: true,
          html5:{
            "nativeTextTracks": false
          }
       });

       // var captionJson = [
       //     {
       //        "data": "This is a roll up example.", 
       //        "startTime": 0,
       //        "endTime": 1000
       //     },
       //     {
       //        "data": "As you can see,", 
       //        "startTime": 1000,
       //        "endTime": 2000
       //     },
       //     {
       //        "data": "the caption is being pushed up.", 
       //        "startTime": 2000,
       //        "endTime": 3000
       //     }
       //  ];

       //  player.caption({
       //     data: captionJson, 
       //     setting:{
       //        captionType: 'roll-up',
       //     } 
       //  });


      $.ajaxSettings.async = false;
      $.getJSON('data/'+source+'.json',function(data){ 
        objs = data
        //alert(JSON.stringify(data)) 
      }); 

      player.ready(function() {
        position = parseInt(position);
        // the call to src is asynchronous under the covers
        // player.src({ src: objs[position].src });
        player.src(objs[position].src)
        // this says "delete this text track whenever the source next changes"
        // (in other words manual cleanup is off, auto cleanup is on)
        // but because the call to src(...) was asynchronous, and addRemoteTextTrack is synchronous, the order of
        // operations is:
        //    1. I call src - it sets a timeout for 1ms to set the actual source
        //    2. I call addRemoteTextTrack - it immediately adds the text track
        //    3. I'm done, and now (or 1ms from now), the source gets actually set
        //    4. as part of setting the source, my remote track gets cleaned up - deleted - gone - blown away
        // Nobody sees subtitles and everyone is sad.

         metadataTrack = player.addRemoteTextTrack({src: objs[position].caption,srclang: 'en',label: 'English',kind: 'captions',mode: 'showing',default: 'default',}, false);  

        /*
        // This would work, though:
        // Under the covers, ready must queue functions to happen in a setTimeout - haven't looked to be sure
        player.ready(function() {
           player.addRemoteTextTrack({ src: 'https://download-a.akamaihd.net/files/media_video/9a/wsb_E_r720P.vtt' }, false);
        });
        */

        
        // And this works, because our setTimeout function will get invoked after the previously-scheduled one:
        // setTimeout(function() {
        //    player.addRemoteTextTrack({src: objs[position].caption,srclang: 'en',label: 'English',kind: 'captions',mode: 'showing',default: 'default',}, false);  
        // }, 3000);
        

        // Add a listener for the "cuechange" event and start ad playback.
        metadataTrack.addEventListener('cuechange', function() {
           console.log('aaa')
        });

        index = parseInt(position) 
      });

      $("#prev").click(function(){
        console.log("prev index=="+index)
        if(index==0){
          return false
        }
        index-=1
        player.src(objs[index].src)
        player.addRemoteTextTrack({src: objs[index].caption,srclang: 'en',label: 'English',kind: 'captions',mode: 'showing',default: 'default',}, false);  
        player.ready(function(){
          player.play()
          //alert("player")
        })
       
      })

      $("#next").click(function(){
        console.log("next index=="+index)
        index+=1
        player.src(objs[index].src)
        player.addRemoteTextTrack({src: objs[index].caption,srclang: 'en',label: 'English',kind: 'captions',mode: 'showing',default: 'default',}, false);  
        player.ready(function(){
          player.play()
          //alert("player")
        })
       
      })
   
      
    });

     function GetArgsFromHref(sHref, sArgName) {
      var args    = sHref.split("?");
      var retval = "";
    
      if(args[0] == sHref) /*参数为空*/
      {
           return retval; /*无需做任何处理*/
      }  
      var str = args[1];
      args = str.split("&");
      for(var i = 0; i < args.length; i ++)
      {
          str = args[i];
          var arg = str.split("=");
          if(arg.length <= 1) continue;
          if(arg[0] == sArgName) retval = arg[1]; 
      }
      return retval;
     }
  </script>

  <script src="https://www.sobot.com/chat/frame/js/entrance.js?sysNum=ad22d3b19d4b45e6ae00dbbe9cb1fac2" class="zhiCustomBtn" id="zhichiScript" data-args="属性名1=属性值1&属性名2=属性值2"></script>


</body>

</html>